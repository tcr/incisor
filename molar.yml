builds:
  - os: windows
    stages:
      setup:
        - echo Setup Windows
      build:
        - setlocal & echo %cd% & cd c:\ & echo %cd% & endlocal
        - setlocal & echo %cd% & cd c:\ & echo %cd% & endlocal
        - ps: "powershell{ get-location; cd c:\\; get-location }"
        - ps: "powershell{ get-location; cd c:\\; get-location }"
        - ps:
          - get-location
          - cd c:\
          - get-location
        - ps:
          - get-location
          - cd c:\
          - get-location
        - cmd:
          - echo %cd%
          - cd c:\
          - echo %cd%

  - os: linux
    stages:
      setup:
        - echo Setup Linux
      build:
        - (pwd; cd /)
        - (pwd; cd /)
        - (pwd; cd /)
        -
          - pwd
          - cd /
        - pwd; cd /
        - pwd; cd /

  - os: osx
    stages:
      setup:
        - echo Setup OSX
      build:
        - ps -p $$
        - (pwd; cd /)
        - (pwd; cd /)
        - pwd; cd /
        - pwd; cd /
        - pwd; cd /
